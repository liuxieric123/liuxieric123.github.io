---
layout: post
titile: 2016-06-13前端与后端的结合
date: 2016-06-13 00:05:00.000000000 +09:00
---
##版本控制
版本控制是用来追踪、维护源码、文件以及配置文件等等的改动，并且提供控制这些改动控制权的软件。在个人开发中，我们可能会需要对代码的各个不同的版本或者是某些改动进行记录，这样我们可以方便备份与回撤。在多人共同开发时，我们可以对同一个文件、同一个项目进行同步开发，然后提交，对于冲突部分由人来决定哪个版本保留。在我干地质工作的两年中，经受过很多关于版本控制的折磨，地质行业中很多工作需要合作进行，每个人手中都有自己的一个版本，最终稿往往都是汇总到一个人手中，然后再进行整合。有了版本控制软件，这件事情每天我们都可以干，我们可以把整个项目进行整合，并且软件帮我们记录改动的部分，这样也方便回撤。版本控制软件有cvs、svn、git。现在使用的是svn。在服务器上会有一个项目的仓库，每个开发者可以从仓库中取到整个项目的代码（checkout、export），开发者可以将自己的工作（代码）提交到仓库（commit），也可以方便的得到别人在项目上做的改动（update）。使用时需要注意一下几点：

1. 冲突部分需要由人来决定哪个部分保留；
2. 提交时尽量将注释写清楚；
3. 可以使用图形界面方便看到改变；

##NodeJs布局后端服务
NodeJs是一个基于chrome V8引擎的JavaScript运行环境。使用了一个事件驱动、非阻塞式I/O的模型，使其轻量且高效。它的包管理器是npm。当我需要构建一个项目时，编写好package.json。然后使用
>npm install

就可以将所有需要的组件安装好。现在有很多的组件可以让我们很方便的搭建起某个服务，比如解析http请求，我们安装好express以及中间组件body-parser就可以对表单提交进行解析与验证。这大大的降低了我们开发难度，让我这个新手也能看懂。服务器分为动态部分与静态部分。动态部分我理解是运行的程序，而静态部分则是文件。我们可能需要从前端发送数据让后端计算，这部分是动态的程序在完成。有的时候我们只是需要请求某个文件，比如一个HTML文件，那就是直接从服务器上将文件发送给前端。
##前端与后端的通信
今天我对前后端的通信有了一个较浅的理解。我们可以操作HTML中的表单与服务器进行通信，也可以构造AJAX与服务器进行通信。当我们在前端构造了一个url，服务器端会有服务进行监听，收到url后，将其中的数据进行解析，然后由一个路由程序将这个请求指向某个服务，或者说是某个函数。这个服务会对其中包含的数据进行处理然后返回某些东西。今天发现如下几个问题：

1. 在HTML中引用外部JS文件时，需要将其放置在它的依赖库之后，如果JS库中没有等待DOM加载完的函数，则需将JS放置在HTML的尾部；
2. AJAX（jQuery）中.post如何获得返回？
3. 在后端的验证部分，验证成功是有一个redirect(express)函数来指向另一个页面的，但是在验证.post请求时，并没有执行这个部分。但是直接操作HTML提交表单是可以重定向的。

##第一个项目的规划
1. 网站的实现；
2. 考虑兼容性，在各个浏览器上包括手机上；
3. 重新考虑，重构代码；